{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/ssg/frontmatter.schema.json",
  "title": "SSG Frontmatter",
  "description": "Frontmatter schema for SSG Markdown content files",
  "type": "object",
  "required": ["title"],
  "properties": {
    "title": {
      "type": "string",
      "description": "Page or post title, displayed as heading and in browser tab",
      "minLength": 1,
      "examples": ["About Me", "My First Blog Post", "Contact"]
    },
    "summary": {
      "type": "string",
      "description": "Brief description shown in blog listings and meta tags (posts only)",
      "maxLength": 300,
      "examples": [
        "An introduction to my blog and what I'll be writing about",
        "Thoughts on the latest developments in web technology"
      ]
    },
    "date": {
      "type": "string",
      "description": "Publication date override in YYYY-MM-DD format (posts only). If not specified, date is extracted from filename.",
      "format": "date",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "examples": ["2024-01-15", "2025-12-25"]
    }
  },
  "allOf": [
    {
      "if": {
        "description": "Page frontmatter - only title required"
      },
      "then": {
        "required": ["title"],
        "properties": {
          "title": true
        }
      }
    }
  ],
  "examples": [
    {
      "$comment": "Minimal page frontmatter",
      "title": "About"
    },
    {
      "$comment": "Complete post frontmatter",
      "title": "My First Post",
      "summary": "An introduction to my blog",
      "date": "2024-01-15"
    },
    {
      "$comment": "Post without date override (uses filename date)",
      "title": "Holiday Update",
      "summary": "Reflections on the year"
    }
  ],
  "definitions": {
    "pageFrontmatter": {
      "type": "object",
      "description": "Frontmatter for static pages",
      "required": ["title"],
      "properties": {
        "title": {
          "$ref": "#/properties/title"
        }
      },
      "additionalProperties": false
    },
    "postFrontmatter": {
      "type": "object",
      "description": "Frontmatter for blog posts",
      "required": ["title"],
      "properties": {
        "title": {
          "$ref": "#/properties/title"
        },
        "summary": {
          "$ref": "#/properties/summary"
        },
        "date": {
          "$ref": "#/properties/date"
        }
      },
      "additionalProperties": false
    }
  }
}
